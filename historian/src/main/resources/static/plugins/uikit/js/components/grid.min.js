/*! UIkit 2.16.2 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */
!function(t){var i;jQuery&&UIkit&&(i=t(jQuery,UIkit)),"function"==typeof define&&define.amd&&define("uikit-grid",["uikit"],function(){return i||t(jQuery,UIkit)})}(function(t,i){"use strict";function e(t){return n(t)}i.component("grid",{defaults:{colwidth:"auto",animation:!0,duration:200,gutter:0,controls:!1},boot:function(){i.ready(function(t){i.$("[data-@-grid]",t).each(function(){var t=i.$(this);if(!t.data("grid")){i.grid(t,i.Utils.options(t.attr("data-@-grid")))}})})},init:function(){var e=this;if(this.element.css({position:"relative"}),this.options.controls){var n=t(this.options.controls);n.on("click","[data-uk-filter]",function(i){i.preventDefault(),e.filter(t(this).data("ukFilter"))}),n.on("click","[data-uk-sort]",function(i){i.preventDefault();var n=t(this).data("ukSort").split(":");e.sort(n[0],n[1])})}i.$win.on("load resize orientationchange",i.Utils.debounce(function(){this.updateLayout()}.bind(this),100)),this.updateLayout(),this.on("display.@.check",function(){e.element.is(":visible")&&e.updateLayout()}),i.$html.on("changed.@.dom",function(){e.updateLayout()})},_prepareElements:function(){var t,i=this.element.children(":not([data-grid-prepared])");i.length&&(t={position:"absolute","box-sizing":"border-box",width:"auto"==this.options.colwidth?"":this.options.colwidth},this.options.gutter&&(t["padding-left"]=this.options.gutter,t["padding-bottom"]=this.options.gutter,this.element.css("margin-left",-1*this.options.gutter)),i.attr("data-grid-prepared","true").css(t))},updateLayout:function(i){this._prepareElements(),i=i||this.element.children(":visible");var n,o,r,a,d,h,s,u,f=this.options.gutter,p=i,l=this.element.width()+2*f+2,c=0,g=0,m=[];this.trigger("beforeupdate.@.grid",[p]),p.each(function(){for(u=e(this),n=t(this),o=u.outerWidth,r=u.outerHeight,c=0,g=0,d=0,s=m.length;s>d;d++)a=m[d],c<=a.aX&&(c=a.aX),c+o>l&&(c=0),g<=a.aY&&(g=a.aY);m.push({ele:n,top:g,left:c,width:o,height:r,aY:g+r,aX:c+o})});var v,b=0;for(d=0,s=m.length;s>d;d++){for(a=m[d],g=0,h=0;d>h;h++)v=m[h],a.left<v.aX&&v.left+1<a.aX&&(g=v.aY);a.top=g,a.aY=g+a.height,b=Math.max(b,a.aY)}b-=f,this.options.animation?(this.element.stop().animate({height:b},100),m.forEach(function(t){t.ele.stop().animate({top:t.top,left:t.left},this.options.duration)}.bind(this))):(this.element.css("height",b),m.forEach(function(t){t.ele.css({top:t.top,left:t.left})}.bind(this))),this.trigger("afterupdate.@.grid",[p])},filter:function(i){i=i||[],"string"==typeof i&&(i=i.split(/,/).map(function(t){return t.trim()}));var e=this.element.children(),n={visible:[],hidden:[]};e.each(function(){var e=t(this),o=e.data("ukFilter"),r=i.length?!1:!0;o&&(o=o.split(/,/).map(function(t){return t.trim()}),i.forEach(function(t){o.indexOf(t)>-1&&(r=!0)})),n[r?"visible":"hidden"].push(e)}),n.hidden=t(n.hidden).map(function(){return this[0]}),n.visible=t(n.visible).map(function(){return this[0]}),n.hidden.fadeOut(this.options.duration),n.visible.show(),this.updateLayout(n.visible)},sort:function(i,e){e=e||1,"string"==typeof e&&(e="desc"==e.toLowerCase()?-1:1);var n=this.element.children();n.sort(function(n,o){return n=t(n),o=t(o),(o.data(i)||"")<(n.data(i)||"")?e:-1*e}).appendTo(this.element),this.updateLayout(n.filter(":visible"))}});var n=function(){function t(t){if(t){if("string"==typeof u[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var i,e=0,n=s.length;n>e;e++)if(i=s[e]+t,"string"==typeof u[i])return i}}function i(t){var i=parseFloat(t),e=-1===t.indexOf("%")&&!isNaN(i);return e&&i}function e(){}function n(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},i=0,e=p.length;e>i;i++){var n=p[i];t[n]=0}return t}function o(){if(!l){l=!0;var e=window.getComputedStyle;if(a=function(){var t=e?function(t){return e(t,null)}:function(t){return t.currentStyle};return function(i){var e=t(i);return e||f("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}}(),d=t("boxSizing")){var n=document.createElement("div");n.style.width="200px",n.style.padding="1px 2px 3px 4px",n.style.borderStyle="solid",n.style.borderWidth="1px 2px 3px 4px",n.style[d]="border-box";var o=document.body||document.documentElement;o.appendChild(n);var r=a(n);h=200===i(r.width),o.removeChild(n)}}}function r(t){if(o(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var e=a(t);if("none"===e.display)return n();var r={};r.width=t.offsetWidth,r.height=t.offsetHeight;for(var s=r.isBorderBox=!(!d||!e[d]||"border-box"!==e[d]),u=0,f=p.length;f>u;u++){var l=p[u],c=e[l],g=parseFloat(c);r[l]=isNaN(g)?0:g}var m=r.paddingLeft+r.paddingRight,v=r.paddingTop+r.paddingBottom,b=r.marginLeft+r.marginRight,y=r.marginTop+r.marginBottom,w=r.borderLeftWidth+r.borderRightWidth,x=r.borderTopWidth+r.borderBottomWidth,W=s&&h,k=i(e.width);k!==!1&&(r.width=k+(W?0:m+w));var L=i(e.height);return L!==!1&&(r.height=L+(W?0:v+x)),r.innerWidth=r.width-(m+w),r.innerHeight=r.height-(v+x),r.outerWidth=r.width+b,r.outerHeight=r.height+y,r}}var a,d,h,s="Webkit Moz ms Ms O".split(" "),u=document.documentElement.style,f="undefined"==typeof console?e:function(t){console.error(t)},p=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],l=!1;return r}()});